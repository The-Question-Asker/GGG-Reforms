##############################################
# The rebel types used by the game engine
##############################################
# Valid arguments:
#
# area = [nation/culture/nation_culture/nation_religion/religion/culture_group/all]
# defection = [culture/culture_group/religion/ideology/any/none/pan_nationalist]
# independence = [culture/culture_group/religion/colonial/any/none/pan_nationalist]
#
##############################################

###################################
# Reactionary Rebels
###################################
reactionary_rebels = {
    icon = 1

    area = nation                     # Stays within the nation
    break_alliance_on_win = no

    # <this is the government in the country> = <this is what the rebels want>
    government = {
        proletarian_dictatorship = presidential_dictatorship
        presidential_dictatorship = absolute_monarchy
        bourgeois_dictatorship = presidential_dictatorship
        fascist_dictatorship = presidential_dictatorship
        absolute_monarchy = absolute_monarchy
        prussian_constitutionalism = absolute_monarchy
        hms_government = absolute_monarchy
        democracy = presidential_dictatorship
        theocracy = absolute_monarchy
    }


    defection = none                    # Will defect to the "best" alternative.
    independence = none                # Does not strive for independence
    defect_delay = 18

    ideology = reactionary

    allow_all_cultures = yes
    allow_all_religions = yes
    allow_all_ideologies = yes

    resilient = yes                    # Disbands on retreat
    reinforcing = yes                # Does not receive reinforcements
    general = yes                    # Does use generals
    smart = yes                        # Does not assault forts, tactically withdraw from battle, etc.
    unit_transfer = no                # Units do not remain after enforcing demands.

    occupation_mult = 1.0            # The amount of strength this rebel gains from taking provinces

    # triggers a general rising, modifier will be multiplied with the countrys army strength and compared to the factions strenght
    will_rise = {
        factor = 0.5

        modifier = {
            war = yes
            factor = 0.8
        }

        modifier = {
            war_exhaustion = 40
            factor = 0.95
        }

        modifier = {
            war_exhaustion = 60
            factor = 0.95
        }

        modifier = {
            war_exhaustion = 80
            factor = 0.95
        }

    }

    # The rebel type with the highest modifier for this pop gets picked
    spawn_chance = {
        factor = 1.02
        modifier = {
            factor = 0.01
            NOT = {
                OR = {
                    pop_majority_ideology = reactionary
                    pop_majority_ideology = conservative
                    pop_majority_ideology = fascist
                }
            }
        }
        modifier = {
            factor = 0
            OR = {
                social_movement = yes
                political_movement = yes
            }
        }

        modifier = {
            factor = 0
            type = slaves
        }

        modifier = {
            factor = 1.0115
            pop_majority_ideology = reactionary
        }
        modifier = {
            factor = 1.0115
            NOT = {
                political_reform_want = 0.05
                social_reform_want = 0.05
            }
        }
        modifier = {
            factor = 0
            country = { civilized = no }
        }
        modifier = {
            factor = 1.05
            NOT = { literacy = 0.30 }
        }
        modifier = {
            factor = 0.5
            literacy = 0.50
            NOT = { pop_majority_ideology = reactionary }
        }
        modifier = {
            factor = 1.0105
            NOT = { consciousness = 1 }
        }
        modifier = {
            factor = 1.0105
            NOT = { consciousness = 2 }
        }
        modifier = {
            factor = 1.0105
            NOT = { consciousness = 3 }
        }
        modifier = {
            factor = 1.0105
            pop_majority_ideology = conservative
            country = {
                NOT = {
                    OR = {
                        has_country_modifier = global_liberal_agitation
                        has_country_modifier = springtime_of_nations
                    }
                }
            }
        }
        modifier = {
            factor = 0
            is_primary_culture = no
            is_accepted_culture = no
        }
        modifier = {
            factor = 0.01
            is_primary_culture = no
            location = {
                any_core = {
                    is_primary_culture = THIS
                    is_cultural_union = no
                    exists = no
                }
            }
        }
        modifier = {
            factor = 0.01
            is_primary_culture = yes
            location = {
                NOT = { is_core = THIS }
                any_core = {
                    is_primary_culture = THIS
                    is_cultural_union = no
                    exists = no
                }
            }
        }
        modifier = {
            factor = 0.8
            is_accepted_culture = yes
            NOT = { is_culture_group = THIS }
        }
        modifier = {
            factor = 0
            country = { government = absolute_monarchy }
        }
        modifier = {
            factor = 0.2
            country = { government = presidential_dictatorship }
        }
        modifier = {
            factor = 1.015
            country = { NOT = { plurality = 35 } }
        }
    }

     #This is checked for EACH province in the Area of Operations
    movement_evaluation = {
        factor = 1
        modifier = {
            factor = 0.1
            units_in_province = 1
            NOT = { is_capital = yes }
        }
        modifier = {
            factor = 0.001
            controlled_by = REB
            NOT = { is_capital = yes }
        }
        modifier = {
            factor = 1.5
            average_militancy = 4
        }
        modifier = {
            factor = 1.5
            average_militancy = 6
        }
        modifier = {
            factor = 1.5
            average_militancy = 8
        }
        modifier = {
            factor = 5.0
            is_capital = yes
        }
    }

     # Province Scope
     siege_won_trigger = {
        NOT = { has_province_modifier = war_torn }
     }

    siege_won_effect = {
        add_province_modifier = {
            name = war_torn
            duration = 365
        }
        any_pop = {
            ideology = {
                value = reactionary
                factor = 0.05
            }
        }
        owner = { war_exhaustion = 2.5 }
    }

    # Country scope
    demands_enforced_trigger = {
        OR = {
            capital_scope = {
                controlled_by = REB
                province_control_days = 90
            }
            NOT = {
                any_owned_province = {
                    is_colonial = no
                    controlled_by = THIS
                }
            }
        }
    }

    demands_enforced_effect = {
        ruling_party_ideology = reactionary
        clr_country_flag = theocratic_government
        clr_country_flag = communist_gov
        clr_country_flag = absolute_monarchy_gov
        clr_country_flag = semi_constitutional_monarchy_gov
        clr_country_flag = constitutional_monarchy_gov
        clr_country_flag = democracy_gov
        clr_country_flag = presidential_dictatorship_gov
        clr_country_flag = fascist_gov
        clr_country_flag = anarcho_liberal_gov
        random_owned = { limit = { owner = { NOT = { citizens_rights = primary_culture_only } } } owner = { social_reform = culture_voting_only } }
        add_country_modifier = {
            name = national_confusion
            duration = 365
        }
        prestige_factor = -0.25
        plurality = -25

    }
}

###################################
# Fascist Rebels
###################################
fascist_rebels = {
    icon = 2

    area = nation                     # Stays within the nation
    break_alliance_on_win = no

    # <this is the government in the country> = <this is what the rebels want>
    government = {
        proletarian_dictatorship = fascist_dictatorship
        presidential_dictatorship = fascist_dictatorship
        bourgeois_dictatorship = fascist_dictatorship
        fascist_dictatorship = fascist_dictatorship
        absolute_monarchy = fascist_dictatorship
        prussian_constitutionalism = fascist_dictatorship
        hms_government = fascist_dictatorship
        democracy = fascist_dictatorship
        theocracy = fascist_dictatorship
    }


    defection = none                    # Will defect to the "best" alternative.
    independence = none                # Does not strive for independence
    defect_delay = 18

    ideology = fascist

    allow_all_cultures = yes
    allow_all_religions = yes
    allow_all_ideologies = yes

    resilient = yes                    # Does not disband on retreat
    reinforcing = yes                # Receives reinforcements
    general = yes                    # Uses generals
    smart = yes                    # Assaults forts, tactically withdraws from battle, etc.
    unit_transfer = no                # Units remain after enforcing demands.

    occupation_mult = 1.0            # The amount of strength this rebel gains from taking provinces

    # triggers a general rising, modifier will be multiplied with the countrys army strength and compared to the factions strenght
    will_rise = {
        factor = 0.5

        modifier = {
            war = yes
            factor = 0.8
        }
        modifier = {
            factor = 0.5
            has_unclaimed_cores = yes
        }
        modifier = {
            war_exhaustion = 40
            factor = 0.95
        }
        modifier = {
            war_exhaustion = 60
            factor = 0.95
        }
        modifier = {
            war_exhaustion = 80
            factor = 0.95
        }
        modifier = {
            factor = 0.95
            any_neighbor_country = {
                government = fascist_dictatorship
            }
        }
    }

    # The rebel type with the highest modifier for this pop gets picked
    spawn_chance = {
        factor = 1.02

        modifier = {
            factor = 0
            NOT = { is_ideology_enabled = fascist }
        }
        modifier = {
            factor = 0
            OR = {
                social_movement = yes
                political_movement = yes
            }
            NOT = {
                OR = {
                    pop_majority_ideology = fascist
                    pop_majority_ideology = reactionary
                    militancy = 5
                }
            }
        }

        modifier = {
            factor = 0
            type = slaves
        }

        modifier = {
            factor = 0
            country = { civilized = no }
        }
        modifier = {
            factor = 0.01
            NOT = {
                OR = {
                    pop_majority_ideology = fascist
                    pop_majority_ideology = reactionary
                    pop_majority_ideology = conservative
                }
            }
        }
        modifier = {
            factor = 1.5
            pop_majority_ideology = fascist
        }
        modifier = {
            factor = 0.05
            is_primary_culture = no
            is_accepted_culture = no
        }
        modifier = {
            factor = 0.2
            is_accepted_culture = yes
            NOT = { is_culture_group = THIS }
        }
        modifier = {
            factor = 0
            country = { government = fascist_dictatorship }
        }
        modifier = {
            factor = 1.015
            country = { NOT = { plurality = 35 } }
        }
        modifier = {
            factor = 1.15
            country = {
                has_unclaimed_cores = yes
            }
        }
        modifier = {
            factor = 1.015
            location = {
                minorities = yes
            }
        }
        modifier = {
            factor = 0
            is_primary_culture = no
            is_accepted_culture = no
            location = {
                any_core = {
                    is_cultural_union = no
                    #OR = {
                        is_primary_culture = THIS
                        #is_accepted_culture = THIS
                    #}
                }
            }
        }
        modifier = {
            factor = 0.01
            is_primary_culture = no
            location = {
                any_core = {
                    is_primary_culture = THIS
                    is_cultural_union = no
                    exists = no
                }
            }
        }
        modifier = {
            factor = 0.01
            is_primary_culture = yes
            location = {
                NOT = { is_core = THIS }
                any_core = {
                    is_primary_culture = THIS
                    is_cultural_union = no
                    exists = no
                }
            }
        }
        modifier = {
            factor = 1.03
            country = {
                any_neighbor_country = {
                    government = fascist_dictatorship
                }
            }
        }
    }

     #This is checked for EACH province in the Area of Operations
    movement_evaluation = {
        factor = 1
        modifier = {
            factor = 0.1
            units_in_province = 1
            NOT = { is_capital = yes }
        }
        modifier = {
            factor = 0.001
            controlled_by = REB
            NOT = { is_capital = yes }
        }
        modifier = {
            factor = 1.5
            average_militancy = 4
        }
        modifier = {
            factor = 1.5
            average_militancy = 6
        }
        modifier = {
            factor = 1.5
            average_militancy = 8
        }
        modifier = {
            factor = 5.0
            is_capital = yes
        }
    }

     # Province Scope
     siege_won_trigger = {
        NOT = { has_province_modifier = war_torn }
     }

    siege_won_effect = {
        add_province_modifier = {
            name = war_torn
            duration = 365
        }
        any_pop = {
            ideology = {
                value = fascist
                factor = 0.05
            }
        }
        owner = { war_exhaustion = 2.5 }
    }


    # Country scope
    demands_enforced_trigger = {
        OR = {
            capital_scope = {
                controlled_by = REB
                province_control_days = 90
            }
            NOT = {
                any_owned_province = {
                    is_colonial = no
                    controlled_by = THIS
                }
            }
        }
    }
    demands_enforced_effect = {
        clr_country_flag = theocratic_government
        clr_country_flag = communist_gov
        clr_country_flag = absolute_monarchy_gov
        clr_country_flag = semi_constitutional_monarchy_gov
        clr_country_flag = constitutional_monarchy_gov
        clr_country_flag = democracy_gov
        clr_country_flag = presidential_dictatorship_gov
        set_country_flag = fascist_gov
        clr_country_flag = anarcho_liberal_gov
        ruling_party_ideology = fascist
        random_owned = { limit = { owner = { NOT = { citizens_rights = primary_culture_only } } } owner = { social_reform = culture_voting_only } }
        add_country_modifier = {
            name = national_confusion
            duration = 365
        }
        prestige_factor = -0.25
        plurality = -25
    }
}

###################################
# Communist Rebels
###################################
communist_rebels = {
    icon = 3

    area = nation                     # Stays within the nation
    break_alliance_on_win = no

    # <this is the government in the country> = <this is what the rebels want>
    government = {
        proletarian_dictatorship = proletarian_dictatorship
        presidential_dictatorship = proletarian_dictatorship
        bourgeois_dictatorship = proletarian_dictatorship
        fascist_dictatorship = proletarian_dictatorship
        absolute_monarchy = proletarian_dictatorship
        prussian_constitutionalism = proletarian_dictatorship
        hms_government = proletarian_dictatorship
        democracy = proletarian_dictatorship
        theocracy = proletarian_dictatorship
    }


    defection = none
    independence = none                # Does not strive for independence
    defect_delay = 18

    ideology = communist

    allow_all_cultures = yes
    allow_all_religions = yes
    allow_all_ideologies = yes

    resilient = yes                    # Disbands on retreat
    reinforcing = yes                # Does not receive reinforcements
    general = yes                    # Does use generals
    smart = yes                        # Does not assault forts, tactically withdraw from battle, etc.
    unit_transfer = no                # Units do not remain after enforcing demands.

    occupation_mult = 1.0            # The amount of strength this rebel gains from taking provinces

    # triggers a general rising, modifier will be multiplied with the countrys army strength and compared to the factions strenght
    will_rise = {
        factor = 0.5
        modifier = {
            war = yes
            factor = 0.8
        }
        modifier = {
            war_exhaustion = 40
            factor = 0.95
        }
        modifier = {
            war_exhaustion = 60
            factor = 0.95
        }
        modifier = {
            war_exhaustion = 80
            factor = 0.95
        }
        modifier = {
            factor = 0.95
            any_neighbor_country = { government = proletarian_dictatorship }
        }
    }

    # The rebel type with the highest modifier for this pop gets picked
    spawn_chance = {
        factor = 1.02

        modifier = {
            factor = 0
            country = { civilized = no }
        }

        modifier = {
            factor = 0
            type = slaves
        }

        modifier = {
            factor = 0
            NOT = {
                is_ideology_enabled = communist
            }
        }
        modifier = {
            factor = 0
            country = { government = proletarian_dictatorship }
        }
        modifier = {
            factor = 1.015
            pop_majority_ideology = communist
            NOT = { political_reform_want = 0.05 }
        }
        modifier = {
            factor = 1.3
            social_reform_want = 0.15
            pop_majority_ideology = communist
            NOT = { political_reform_want = 0.15 }
        }
        modifier = {
            factor = 0.01
            NOT = {
                OR = {
                    pop_majority_ideology = conservative
                    pop_majority_ideology = communist
                    pop_majority_ideology = socialist
                }
            }
        }
        modifier = {
            factor = 1.3
            pop_majority_ideology = communist
        }
        modifier = {
            factor = 1.15
            pop_majority_ideology = socialist
        }
        modifier = {
            factor = 1.015
            country = { NOT = { plurality = 35 } }
        }
        modifier = {
            factor = 0.1
            is_primary_culture = no
            is_accepted_culture = no
        }
        modifier = {
            factor = 1.05
            militancy = 6
        }
        modifier = {
            factor = 1.05
            consciousness = 6
        }
        modifier = {
            factor = 0
            is_primary_culture = no
            is_accepted_culture = no
            location = {
                any_core = {
                    is_cultural_union = no
                    #OR = {
                        is_primary_culture = THIS
                        #is_accepted_culture = THIS
                    #}
                }
            }
        }
        modifier = {
            factor = 0.01
            is_primary_culture = no
            location = {
                any_core = {
                    is_primary_culture = THIS
                    is_cultural_union = no
                    exists = no
                }
            }
        }
        modifier = {
            factor = 0.01
            is_primary_culture = yes
            location = {
                NOT = { is_core = THIS }
                any_core = {
                    is_primary_culture = THIS
                    is_cultural_union = no
                    exists = no
                }
            }
        }
        modifier = {
            factor = 1.03
            country = {
                any_neighbor_country = {
                    government = proletarian_dictatorship
                }
            }
        }
    }

     #This is checked for EACH province in the Area of Operations
    movement_evaluation = {
        factor = 1
        modifier = {
            factor = 0.1
            units_in_province = 1
            NOT = { is_capital = yes }
        }
        modifier = {
            factor = 0.001
            controlled_by = REB
            NOT = { is_capital = yes }
        }
        modifier = {
            factor = 1.5
            average_militancy = 4
        }
        modifier = {
            factor = 1.5
            average_militancy = 6
        }
        modifier = {
            factor = 1.5
            average_militancy = 8
        }
        modifier = {
            factor = 5.0
            is_capital = yes
        }
    }

     # Province Scope
     siege_won_trigger = {
        NOT = { has_province_modifier = war_torn }
     }

    siege_won_effect = {
        add_province_modifier = {
            name = war_torn
            duration = 365
        }
        any_pop = {
            ideology = {
                value = communist
                factor = 0.05
            }
        }
        owner = { war_exhaustion = 2.5 }
    }


    # Country scope
    demands_enforced_trigger = {
        OR = {
            capital_scope = {
                controlled_by = REB
                province_control_days = 90
            }
            NOT = {
                any_owned_province = {
                    is_colonial = no
                    controlled_by = THIS
                }
            }
        }
    }
    demands_enforced_effect = {
        clr_country_flag = theocratic_government
        set_country_flag = communist_gov
        clr_country_flag = absolute_monarchy_gov
        clr_country_flag = semi_constitutional_monarchy_gov
        clr_country_flag = constitutional_monarchy_gov
        clr_country_flag = democracy_gov
        clr_country_flag = presidential_dictatorship_gov
        clr_country_flag = fascist_gov
        clr_country_flag = anarcho_liberal_gov
        ruling_party_ideology = communist
        nationalize = yes
        add_country_modifier = {
            name = national_confusion
            duration = 365
        }
        prestige_factor = -0.25
        plurality = -25
    }
}

###################################
# Anarcho-Liberal Rebels
###################################
anarcho_liberal_rebels = {
    icon = 4

    area = nation                     # Stays within the nation
    break_alliance_on_win = no

    # <this is the government in the country> = <this is what the rebels want>
    government = {
        proletarian_dictatorship = bourgeois_dictatorship
        presidential_dictatorship = bourgeois_dictatorship
        bourgeois_dictatorship = bourgeois_dictatorship
        fascist_dictatorship = bourgeois_dictatorship
        absolute_monarchy = bourgeois_dictatorship
        prussian_constitutionalism = bourgeois_dictatorship
        hms_government = bourgeois_dictatorship
        democracy = bourgeois_dictatorship
        theocracy = bourgeois_dictatorship
    }


    defection = none                    # Will defect to the "best" alternative.
    independence = none                # Does not strive for independence
    defect_delay = 18

    ideology = anarcho_liberal

    allow_all_cultures = yes
    allow_all_religions = yes
    allow_all_ideologies = yes

    resilient = yes                    # Disbands on retreat
    reinforcing = yes                # Does not receive reinforcements
    general = yes                    # Does use generals
    smart = yes                        # Does not assault forts, tactically withdraw from battle, etc.
    unit_transfer = no                # Units do not remain after enforcing demands.

    occupation_mult = 1.0            # The amount of strength this rebel gains from taking provinces

    # triggers a general rising, modifier will be multiplied with the countrys army strength and compared to the factions strenght
    will_rise = {
        factor = 0.5

        modifier = {
            war = yes
            factor = 0.8
        }
        modifier = {
            war_exhaustion = 40
            factor = 0.95
        }
        modifier = {
            war_exhaustion = 60
            factor = 0.95
        }
        modifier = {
            war_exhaustion = 80
            factor = 0.95
        }
        modifier = {
            factor = 0.95
            any_neighbor_country = {
                government = bourgeois_dictatorship
            }
        }
    }

    # The rebel type with the highest modifier for this pop gets picked
    spawn_chance = {
        factor = 1.01

        modifier = {
            factor = 0
            NOT = {
                is_ideology_enabled = anarcho_liberal
            }
        }
        modifier = {
            factor = 0
            type = slaves
        }
        modifier = {
            factor = 0
            country = { civilized = no }
        }
        modifier = {
            factor = 0
            OR = {
                political_movement = yes
                social_movement = yes
            }
        }
        modifier = {
            factor = 0
            country = { government = bourgeois_dictatorship }
        }
        modifier = {
            factor = 0
            country = {
                OR = {
                    government = democracy
                    government = hms_government
                }
                ruling_party_ideology = anarcho_liberal
            }
        }
        modifier = {
            factor = 0.5
            country = {
                OR = {
                    government = democracy
                    government = hms_government
                }
                ruling_party_ideology = liberal
            }
        }
        modifier = {
            factor = 1.015
            country = { NOT = { plurality = 35 } }
        }
        modifier = {
            factor = 0
            NOT = {
                OR = {
                    pop_majority_ideology = anarcho_liberal
                    pop_majority_ideology = liberal
                }
            }
        }
        modifier = {
            factor = 1.15
            pop_majority_ideology = anarcho_liberal
        }
        modifier = {
            factor = 1.02
            pop_majority_ideology = liberal
        }

        modifier = {
            factor = 0
            is_primary_culture = no
            is_accepted_culture = no
            location = {
                any_core = {
                    is_cultural_union = no
                    #OR = {
                        is_primary_culture = THIS
                        #is_accepted_culture = THIS
                    #}
                }
            }
        }
        modifier = {
            factor = 0.01
            is_primary_culture = no
            location = {
                any_core = {
                    is_primary_culture = THIS
                    is_cultural_union = no
                    exists = no
                }
            }
        }
        modifier = {
            factor = 0.01
            is_primary_culture = yes
            location = {
                NOT = { is_core = THIS }
                any_core = {
                    is_primary_culture = THIS
                    is_cultural_union = no
                    exists = no
                }
            }
        }
        modifier = {
            factor = 0.5
            NOT = { is_culture_group = THIS }
        }
        modifier = {
            factor = 0.1
            is_primary_culture = no
            is_accepted_culture = no
        }
    }

     #This is checked for EACH province in the Area of Operations
    movement_evaluation = {
        factor = 1
        modifier = {
            factor = 0.1
            units_in_province = 1
            NOT = { is_capital = yes }
        }
        modifier = {
            factor = 0.001
            controlled_by = REB
            NOT = { is_capital = yes }
        }
        modifier = {
            factor = 1.5
            average_militancy = 4
        }
        modifier = {
            factor = 1.5
            average_militancy = 6
        }
        modifier = {
            factor = 1.5
            average_militancy = 8
        }
        modifier = {
            factor = 5.0
            is_capital = yes
        }
    }

     # Province Scope
     siege_won_trigger = {
        NOT = { has_province_modifier = war_torn }
     }

    siege_won_effect = {
        add_province_modifier = {
            name = war_torn
            duration = 365
        }
        any_pop = {
            ideology = {
                value = anarcho_liberal
                factor = 0.05
            }
        }
        owner = { war_exhaustion = 2.5 }
    }


    # Country scope
    demands_enforced_trigger = {
        OR = {
            capital_scope = {
                controlled_by = REB
                province_control_days = 90
            }
            NOT = {
                any_owned_province = {
                    is_colonial = no
                    controlled_by = THIS
                }
            }
        }
    }
    demands_enforced_effect = {
        clr_country_flag = theocratic_government
        clr_country_flag = communist_gov
        clr_country_flag = absolute_monarchy_gov
        clr_country_flag = semi_constitutional_monarchy_gov
        clr_country_flag = constitutional_monarchy_gov
        clr_country_flag = democracy_gov
        clr_country_flag = presidential_dictatorship_gov
        clr_country_flag = fascist_gov
        clr_country_flag = anarcho_liberal_gov
        ruling_party_ideology = anarcho_liberal

        add_country_modifier = {
            name = national_confusion
            duration = 365
        }

        prestige_factor = -0.25
        plurality = -25
    }
}

###################################
# Nationalist Rebels
###################################
nationalist_rebels = {
    icon = 5

    area = nation_culture                 # Stays within provinces of their culture
    break_alliance_on_win = no

    # <this is the government in the country> = <this is what the rebels want>
    government = {
        proletarian_dictatorship = proletarian_dictatorship
        presidential_dictatorship = presidential_dictatorship
        bourgeois_dictatorship = bourgeois_dictatorship
        fascist_dictatorship = fascist_dictatorship
        absolute_monarchy = absolute_monarchy
        prussian_constitutionalism = prussian_constitutionalism
        hms_government = hms_government
        democracy = democracy
        theocracy = theocracy
    }


    defection = none            # (Was 'culture') If the country seeks independence, defection specifies what type of provinces it wants.
    independence = culture         # (Was 'culture')Seeks independence for spawn province culture. Will not spawn at all if there is no suitable tag.
    defect_delay = 12            # Can spontaneously declare independence after X months (earliest)

    allow_all_cultures = yes
    allow_all_religions = yes
    allow_all_ideologies = yes

    resilient = yes                    # Does not disband on retreat
    reinforcing = yes                # Does not receive reinforcements
    general = yes                    # Does use generals
    smart = yes                    # Does not assault forts, tactically withdraw from battle, etc.
    unit_transfer = yes                # Units do remain after enforcing demands.

    occupation_mult = 5.0            # The amount of strength this rebel gains from taking provinces

    # triggers a general rising, modifier will be multiplied with the country's army strength and compared to the faction's strength
    will_rise = {
        factor = 0.3
        modifier = {
            war = yes
            factor = 0.8
        }
        modifier = {
            war_exhaustion = 40
            factor = 0.95
        }
        modifier = {
            war_exhaustion = 60
            factor = 0.95
        }
        modifier = {
            war_exhaustion = 80
            factor = 0.95
        }
        modifier = {
            factor = 0.5
            has_country_modifier = springtime_of_nations
        }
        modifier = {
            factor = 0.75
            has_country_modifier = global_liberal_agitation
        }
        modifier = {
            factor = 0.5
            has_country_flag = arab_revolt
        }
        modifier = {
            factor = 0.25
            OR = {
                has_country_flag = dungan_rebellion
                has_country_flag = panthay_rebellion
            }
        }
    }

    # The rebel type with the highest modifier for this pop gets picked
    spawn_chance = {
        factor = 3

        modifier = {
            factor = 0
            type = slaves
        }

        modifier = {
            factor = 0.01
            is_primary_culture = yes
            location = { is_core = THIS }
        }
        modifier = {
            factor = 0.1
            is_accepted_culture = yes
            location = { is_core = THIS }
        }
        modifier = {
            factor = 0
            NOT = {
                location = {
                    any_core = {
                        is_cultural_union = no
                        is_primary_culture = THIS
                        exists = no
                     }
                 }
             }
        }
        # modifier = {
            # factor = 0
            # NOT = {
                # location = {
                    # any_core = {
                        # is_cultural_union = no
                        # OR = {
                            # is_primary_culture = THIS
                            # is_accepted_culture = THIS
                        # }
                        # exists = no
                     # }
                 # }
             # }
        # }
        #modifier = {
        #    factor = 0
        #    NOT = {
        #        country = { num_of_cities = 2 }
        #    }
        #}
        modifier = {
            factor = 1.01
            pop_majority_ideology = communist
        }
        modifier = {
            factor = 1.05
            pop_majority_ideology = socialist
        }
        modifier = {
            factor = 1.03
            pop_majority_ideology = anarcho_liberal
        }
        modifier = {
            factor = 1.05
            pop_majority_ideology = liberal
        }
        modifier = {
            factor = 1.07
            pop_majority_ideology = conservative
        }
        modifier = {
            factor = 1.09
            pop_majority_ideology = reactionary
        }
        modifier = {
            factor = 1.11
            pop_majority_ideology = fascist
        }
        modifier = {
            factor = 1.015
            NOT = { is_culture_group = THIS }
        }
        modifier = {
            factor = 2
            location = { has_province_modifier = nationalist_agitation }
        }

        modifier = {
            factor = 1.15
            country = {
                OR = {
                    has_country_modifier = global_liberal_agitation
                    has_country_modifier = springtime_of_nations
                }
            }
        }
        modifier = {
            factor = 1.2
            location = { is_colonial = yes }
        }
        modifier = {
            factor = 0
            location = {
                is_colonial = no
                continent = africa
            }
        }
        modifier = {
            factor = 1.05
            culture = irish
            country = { has_global_flag = no_help_for_the_irish }
        }
        modifier = {
            factor = 0.1
            culture = irish
            country = { has_global_flag = help_for_the_irish }
        }
        modifier = {
            factor = 1.5
            culture = irish
            location = { has_province_modifier = irish_republicans }
        }
    }

     #This is checked for EACH province in the Area of Operations
    movement_evaluation = {
        factor = 1
        modifier = {
            factor = 0.1
            units_in_province = 1
        }
        modifier = {
            factor = 0.001
            controlled_by = REB
            NOT = { units_in_province = 1 }
        }
        modifier = {
            factor = 1.5
            average_militancy = 4
        }
        modifier = {
            factor = 1.5
            average_militancy = 6
        }
        modifier = {
            factor = 1.5
            average_militancy = 8
        }
        modifier = {
            factor = 0.4
            country = {
                has_country_modifier = springtime_of_nations
            }
        }
    }

     # Province Scope
     siege_won_trigger = {
        NOT = { has_province_modifier = war_torn }
     }

    siege_won_effect = {
        add_province_modifier = {
            name = war_torn
            duration = 365
        }
    }

    # Country scope
    demands_enforced_trigger = {
        independence = {
            all_core = {
                OR = {
                    controlled_by_rebels = yes
                    NOT = { owned_by = THIS }
                }
                province_control_days = 30
            }
        }
    }
    demands_enforced_effect = {
        release_vassal = REB
        modify_relation = {
            tag = REB
            relation = -150
        }
        prestige_factor = -0.3
    }
}

###################################
# Pan-Nationalist Rebels
###################################
pan_nationalist_rebels = {
    icon = 6

    break_alliance_on_win = no
    area = nation

    # <this is the government in the country> = <this is what the rebels want>
    government = {
        proletarian_dictatorship = proletarian_dictatorship
        presidential_dictatorship = presidential_dictatorship
        bourgeois_dictatorship = bourgeois_dictatorship
        fascist_dictatorship = fascist_dictatorship
        absolute_monarchy = absolute_monarchy
        prussian_constitutionalism = prussian_constitutionalism
        hms_government = hms_government
        democracy = democracy
        theocracy = theocracy
    }

    defection = none            # (It was pan_nationalist) If the country seeks independence, defection specifies what type of provinces it wants.
    independence = none
    defect_delay = 6            # Can spontaneously declare independence after 12 months (earliest)

    ideology = liberal
    allow_all_cultures = yes
    allow_all_culture_groups = no
    allow_all_religions = yes
    allow_all_ideologies = yes

    resilient = yes                    # Disbands on retreat
    reinforcing = yes                # Does not receive reinforcements
    general = yes                    # Does not use generals
    smart = yes                    # Does not assault forts, tactically withdraw from battle, etc.
    unit_transfer = no                # Units remain after enforcing demands.

    occupation_mult = 3.0            # The amount of strength this rebel gains from taking provinces

    # triggers a general rising, modifier will be multiplied with the country's army strength and compared to the factions strenght
    will_rise = {
        factor = 0.5

        modifier = {
            war = yes
            factor = 0.8
        }

        modifier = {
            war_exhaustion = 40
            factor = 0.95
        }

        modifier = {
            war_exhaustion = 60
            factor = 0.95
        }

        modifier = {
            war_exhaustion = 80
            factor = 0.95
        }
        modifier = {
            factor = 0.5
            has_country_modifier = springtime_of_nations
        }
        modifier = {
            factor = 0.5
            has_country_modifier = global_liberal_agitation
        }
    }

    # The rebel type with the highest modifier for this pop gets picked
    spawn_chance = {
        factor = 1.1

        modifier = {
            factor = 0
            type = slaves
        }

        modifier = {
            factor = 0
            country = { civilized = no }
        }
        modifier = {
            factor = 0
            cultural_union = { civilized = no }
        }
        modifier = {
            factor = 0
            is_primary_culture = yes
        }
        modifier = {
            factor = 0
            OR = {
                culture_has_union_tag = no
                is_cultural_union = THIS
                NOT = { is_culture_group = THIS }
                country = { is_greater_power = yes }
            }
        }
        modifier = {
            factor = 1.05
            cultural_union = { exists = yes }
        }

        modifier = {
            factor = 1.15
            pop_majority_ideology = conservative
            country = {
                OR = {
                    has_country_modifier = global_liberal_agitation
                    has_country_modifier = springtime_of_nations
                }
            }
        }
        modifier = {
            factor = 1.3
            OR = {
                pop_majority_ideology = liberal
                pop_majority_ideology = anarcho_liberal
            }
            country = {
                OR = {
                    has_country_modifier = global_liberal_agitation
                    has_country_modifier = springtime_of_nations
                }
            }
        }
        modifier = {
            factor = 1.2
            OR = {
                pop_majority_ideology = liberal
                pop_majority_ideology = socialist
            }
        }

        modifier = {
            factor = 1.1
            pop_majority_ideology = anarcho_liberal
        }

        modifier = {
            factor = 1.015
            political_reform_want = 0.05
        }
        modifier = {
            factor = 1.015
            political_reform_want = 0.1
        }
        modifier = {
            factor = 1.015
            political_reform_want = 0.15
        }
    }

     #This is checked for EACH province in the Area of Operations
    movement_evaluation = {
        factor = 1
        modifier = {
            factor = 0.1
            units_in_province = 1
            NOT = { is_capital = yes }
        }
        modifier = {
            factor = 0.001
            controlled_by = REB
            NOT = { is_capital = yes }
        }
        modifier = {
            factor = 1.5
            average_militancy = 4
        }
        modifier = {
            factor = 1.5
            average_militancy = 6
        }
        modifier = {
            factor = 1.5
            average_militancy = 8
        }
        modifier = {
            factor = 5.0
            is_capital = yes
        }
    }

     # Province Scope
     siege_won_trigger = {
        NOT = { has_province_modifier = war_torn }
     }

    siege_won_effect = {
        add_province_modifier = {
            name = war_torn
            duration = 365
        }
    }


    # Country scope
    demands_enforced_trigger = {
        OR = {
            capital_scope = {
                controlled_by = REB
                province_control_days = 90
            }
            NOT = {
                any_owned_province = {
                    is_colonial = no
                    controlled_by = THIS
                }
            }
        }
    }

    demands_enforced_effect = {
        clr_country_flag = theocratic_government
        clr_country_flag = communist_gov
        clr_country_flag = absolute_monarchy_gov
        clr_country_flag = semi_constitutional_monarchy_gov
        clr_country_flag = constitutional_monarchy_gov
        clr_country_flag = democracy_gov
        clr_country_flag = presidential_dictatorship_gov
        clr_country_flag = fascist_gov
        clr_country_flag = anarcho_liberal_gov
        prestige_factor = -0.3

    }
}

###################################
# Carlist Rebels
###################################
carlist_rebels = {
    icon = 16

    area = nation                     # Stays within the nation
    break_alliance_on_win = no

    # <this is the government in the country> = <this is what the rebels want>
    government = {
        proletarian_dictatorship = absolute_monarchy
        presidential_dictatorship = absolute_monarchy
        bourgeois_dictatorship = absolute_monarchy
        fascist_dictatorship = absolute_monarchy
        absolute_monarchy = absolute_monarchy
        prussian_constitutionalism = absolute_monarchy
        hms_government = absolute_monarchy
        democracy = absolute_monarchy
        theocracy = theocracy
    }


    defection = none
    independence = none                # Does not strive for independence
    defect_delay = 18

    ideology = reactionary

    allow_all_cultures = yes
    allow_all_religions = yes
    allow_all_ideologies = yes

    resilient = yes
    reinforcing = yes
    general = yes
    smart = yes
    unit_transfer = no                # Units do not remain after enforcing demands.

    occupation_mult = 1.0            # The amount of strength this rebel gains from taking provinces

    # triggers a general rising, modifier will be multiplied with the countrys army strength and compared to the factions strenght
    will_rise = {
        factor = 0.5
        modifier = {
            war = yes
            factor = 0.8
        }
        modifier = {
            war_exhaustion = 40
            factor = 0.95
        }
        modifier = {
            war_exhaustion = 60
            factor = 0.95
        }
        modifier = {
            war_exhaustion = 80
            factor = 0.95
        }
        modifier = {
            factor = 0.5
            OR = {
                has_country_flag = carlist_war
                has_country_flag = king_leopold_rules
                has_country_flag = king_amadeo_rules
                has_country_flag = first_spanish_republic
            }
        }
        modifier = {
            factor = 0.75
            has_country_flag = king_alfonso_rules
        }
        modifier = {
            factor = 3.0
            has_country_modifier = spanish_restoration
        }

    }

    # The rebel type with the highest modifier for this pop gets picked
    spawn_chance = {
        factor = 1.1

        modifier = {
            factor = 0
            type = slaves
        }

        modifier = {
            factor = 2
            location = {
                has_province_modifier = carlist_sympathies
            }
        }
        modifier = {
            factor = 0
            country = {
                NOT = {
                    OR = {
                        government = hms_government
                        government = prussian_constitutionalism
                        government = absolute_monarchy
                        government = democracy
                    }
                }
            }
        }
        modifier = {
            factor = 1.3
            pop_majority_ideology = reactionary
        }
        modifier = {
            factor = 1.2
            pop_majority_ideology = conservative
		}
        modifier = {
            factor = 0
            NOT = {
                OR = {
                    pop_majority_ideology = reactionary
                    pop_majority_ideology = conservative
                    pop_majority_ideology = fascist
                }
            }
        }
        modifier = {
            factor = 0.8
            is_primary_culture = no
            is_accepted_culture = no
        }
        modifier = {
            factor = 0
            country = { has_global_flag = carlists_pacified }
        }
        modifier = {
            factor = 1.015
            country = { NOT = { plurality = 35 } }
        }
    }

     #This is checked for EACH province in the Area of Operations
    movement_evaluation = {
        factor = 1
        modifier = {
            factor = 0.1
            units_in_province = 1
            NOT = { is_capital = yes }
        }
        modifier = {
            factor = 0.001
            controlled_by = REB
            NOT = { is_capital = yes }
        }
        modifier = {
            factor = 1.5
            average_militancy = 4
        }
        modifier = {
            factor = 1.5
            average_militancy = 6
        }
        modifier = {
            factor = 1.5
            average_militancy = 8
        }
        modifier = {
            factor = 5.0
            is_capital = yes
        }
    }

     # Province Scope
     siege_won_trigger = {
        NOT = { has_province_modifier = war_torn }
     }

    siege_won_effect = {
        add_province_modifier = {
            name = war_torn
            duration = 365
        }
        any_pop = {
            ideology = {
                value = reactionary
                factor = 0.05
            }
        }
        owner = { war_exhaustion = 2.5 }
    }

    # Country scope
    demands_enforced_trigger = {
        OR = {
            capital_scope = {
                controlled_by = REB
                province_control_days = 90
            }
            NOT = {
                any_owned_province = {
                    is_colonial = no
                    controlled_by = THIS
                }
            }
        }
    }

    demands_enforced_effect = {
        clr_country_flag = theocratic_government
        clr_country_flag = communist_gov
        clr_country_flag = absolute_monarchy_gov
        clr_country_flag = semi_constitutional_monarchy_gov
        clr_country_flag = constitutional_monarchy_gov
        clr_country_flag = democracy_gov
        clr_country_flag = presidential_dictatorship_gov
        clr_country_flag = fascist_gov
        clr_country_flag = anarcho_liberal_gov
        ruling_party_ideology = reactionary
        prestige_factor = -0.25
        plurality = -25
    }
}

